<!DOCTYPE html>
<html lang="en">
  <script>
    let playerpoint = 0;
    let computerpoint = 0;
    function divPressed(playerSelection) {
      const playerscore = document.getElementById("playerscore");
      const computerscore = document.getElementById("computerscore");
      computerSelection = computerPlay();
      let point = playRound(playerSelection, computerSelection);
      if (point == 1) {
        playerpoint += 1;
      } else if (point == -1) {
        computerpoint += 1;
      }
      let innerplayerscore = document.createElement("span");
      let innercomputerscore = document.createElement("span");
      innerplayerscore.textContent = playerpoint;
      innercomputerscore.textContent = computerpoint;
      playerscore.innerHTML = "";
      computerscore.innerHTML = "";
      playerscore.appendChild(innerplayerscore);
      computerscore.appendChild(innercomputerscore);
      const results = document.getElementById("results");
      const endgame = document.createElement("h2");

      if (playerpoint == 5) {
        endgame.textContent = "You won the whole game!";
        endgame.style.color = "blue";
        playerpoint = 0;
        computerpoint = 0;
      } else if (computerpoint == 5) {
        endgame.textContent = "You lost the whole game!";
        endgame.style.color = "red";
        playerpoint = 0;
        computerpoint = 0;
      }
      results.appendChild(endgame);
    }

    function computerPlay() {
      // this function allows the computer to randomly choose between rock, papper, scissors
      const choices = ["rock", "paper", "scissors"];
      return choices[Math.floor(Math.random() * choices.length)];
    }

    function playRound(playerSelection, computerSelection) {
      // this function checks the value between playerSelection and computerSelection and assigns a point to the winner
      let point = 0;
      const results = document.getElementById("results");
      results.innerHTML = "";
      const endround = document.createElement("p");
      if (playerSelection == "rock") {
        if (computerSelection == "paper") {
          endround.textContent = "You lose this round! Paper beats rock";
          results.appendChild(endround);
          point = -1;
          return point;
        } else if (computerSelection == "scissors") {
          endround.textContent = "You win this round! Rock beats scissors";
          results.appendChild(endround);
          point = 1;
          return point;
        } else {
          endround.textContent = "Tied this round. Rock ties with rock";
          results.appendChild(endround);
          return point;
        }
      } else if (playerSelection == "paper") {
        if (computerSelection == "rock") {
          endround.textContent = "You win this round! Paper beats rock";
          results.appendChild(endround);
          point = 1;
          return point;
        } else if (computerSelection == "scissors") {
          endround.textContent = "You lose this round! Scissors beats paper";
          results.appendChild(endround);
          point = -1;
          return point;
        } else {
          endround.textContent = "Tied this round. Paper ties with paper";
          results.appendChild(endround);
          return point;
        }
      } else {
        if (computerSelection == "rock") {
          endround.textContent = "You lose this round! Rock beats scissors";
          results.appendChild(endround);
          point = -1;
          return point;
        } else if (computerSelection == "paper") {
          endround.textContent = "You win this round! Scissors beats paper ";
          results.appendChild(endround);
          point = 1;
          return point;
        } else {
          endround.textContent = "Tied this round. Scissors ties with paper";
          results.appendChild(endround);
          return point;
        }
      }
    }
  </script>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <h1>Rock, paper, or scissors?</h1>
    <div id="wrapper">
      <div id="container">
        <div id="rock" class="btn" onclick="divPressed('rock')"></div>
        <div id="paper" class="btn" onclick="divPressed('paper')"></div>
        <div id="scissors" class="btn" onclick="divPressed('scissors')"></div>
        <div id="playerscore"></div>
        <div id="results"></div>
        <div id="computerscore"></div>
      </div>
    </div>
  </body>
</html>
